<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Quiz App</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the flashcard flip animation */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .flashcard-container {
            perspective: 1000px; /* Needed for 3D transform */
            width: 100%;
            max-width: 500px; /* Max width for the card */
            height: 300px; /* Fixed height for the card */
            position: relative;
            margin: 0 auto; /* Center the card */
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d; /* Preserve 3D space for children */
            transition: transform 0.6s; /* Smooth flip animation */
            border-radius: 1rem; /* Rounded corners for the card */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* Soft shadow */
            cursor: pointer;
        }

        .flashcard.flipped {
            transform: rotateY(180deg); /* Rotate 180 degrees on Y-axis when flipped */
        }

        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Hide the back of the face when rotated */
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 1rem; /* Match parent border-radius */
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            user-select: none; /* Prevent text selection on card */
        }

        .flashcard-front {
            background-color: #ffffff; /* White background for front */
            border: 2px solid #6366f1; /* Indigo border */
        }

        .flashcard-back {
            background-color: #e0e7ff; /* Light indigo background for back */
            border: 2px solid #6366f1; /* Indigo border */
            transform: rotateY(180deg); /* Initially rotated to be visible when flipped */
        }

        /* Button styling */
        .btn {
            @apply px-6 py-3 rounded-xl font-semibold transition-all duration-200 ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            @apply bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2;
        }

        .btn-secondary {
            @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2;
        }

        .btn-success {
            @apply bg-green-500 text-white hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .flashcard-container {
                height: 250px;
            }
            .flashcard-face {
                font-size: 1.2rem;
            }
            .btn {
                @apply px-4 py-2 text-sm;
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">

    <div class="app-container bg-white p-8 rounded-2xl shadow-xl flex flex-col items-center space-y-8 w-full max-w-2xl">
        <h1 class="text-4xl font-extrabold text-gray-800 mb-6 text-center">Flashcard Quiz</h1>

        <!-- Subject Selection -->
        <div class="subject-selection flex flex-wrap justify-center gap-4 mb-6">
            <button id="html-btn" class="btn btn-primary">HTML</button>
            <button id="css-btn" class="btn btn-primary">CSS</button>
            <button id="js-btn" class="btn btn-primary">JavaScript</button>
        </div>

        <!-- Flashcard Display Area -->
        <div class="flashcard-container" id="flashcard-container">
            <div class="flashcard" id="flashcard">
                <div class="flashcard-face flashcard-front flex items-center justify-center">
                    <p id="card-question">Select a subject to start!</p>
                </div>
                <div class="flashcard-face flashcard-back flex items-center justify-center">
                    <p id="card-answer"></p>
                </div>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="navigation-controls flex justify-center gap-4 w-full">
            <button id="prev-btn" class="btn btn-secondary flex-1 max-w-[150px]">Previous</button>
            <button id="next-btn" class="btn btn-primary flex-1 max-w-[150px]">Next</button>
        </div>

        <!-- Progress and Mark Known -->
        <div class="progress-section flex flex-col items-center gap-4 w-full">
            <button id="mark-known-btn" class="btn btn-success w-full max-w-[200px]">Mark as Known</button>
            <p class="text-lg text-gray-700">Progress: <span id="progress-text">0/0 (0 known)</span></p>
        </div>
    </div>

    <script>
        // Flashcard data
        const flashcards = {
            html: [
                { question: "What does HTML stand for?", answer: "HyperText Markup Language" },
                { question: "Which HTML tag is used for the largest heading?", answer: "<h1>" },
                { question: "What is the correct HTML element for inserting a line break?", answer: "<br>" },
                { question: "What is the purpose of the <head> element?", answer: "Contains meta-information about the HTML document, like title, links to stylesheets, etc." },
                { question: "How do you create an unordered list in HTML?", answer: "Using the <ul> and <li> tags." },
                { question: "What attribute is used to define inline styles?", answer: "style" },
                { question: "Which HTML element is used to specify a footer for a document or section?", answer: "<footer>" },
                { question: "What is the difference between <div> and <span>?", answer: "<div> is a block-level element, <span> is an inline-level element." },
                { question: "How do you embed an image in HTML?", answer: "Using the <img> tag with src and alt attributes." },
                { question: "What is the purpose of the 'alt' attribute in an <img> tag?", answer: "Provides alternative text for an image if it cannot be displayed, useful for accessibility." }
            ],
            css: [
                { question: "What does CSS stand for?", answer: "Cascading Style Sheets" },
                { question: "Which CSS property controls the text size?", answer: "font-size" },
                { question: "How do you select an element with id 'header' in CSS?", answer: "#header" },
                { question: "What is the 'box model' in CSS?", answer: "A box that wraps around every HTML element, consisting of: margins, borders, padding, and the actual content." },
                { question: "How do you make text bold using CSS?", answer: "font-weight: bold;" },
                { question: "What is the purpose of 'display: flex;'?", answer: "To create a flex container, allowing flexible box layout for its direct children." },
                { question: "How do you add comments in CSS?", answer: "/* This is a comment */" },
                { question: "What is the difference between 'margin' and 'padding'?", answer: "Padding is space inside the element's border, margin is space outside the element's border." },
                { question: "Which CSS property is used to change the background color of an element?", answer: "background-color" },
                { question: "What does 'position: relative;' do?", answer: "Positions an element relative to its normal position. Offsets (top, bottom, left, right) move it from there." }
            ],
            js: [
                { question: "What does JS stand for?", answer: "JavaScript" },
                { question: "How do you declare a variable in JavaScript?", answer: "Using var, let, or const keywords." },
                { question: "What is a 'closure' in JavaScript?", answer: "A function bundled with its lexical environment (i.e., its surrounding state)." },
                { question: "How do you write 'Hello World' in an alert box?", answer: "alert('Hello World');" },
                { question: "What is the 'DOM' in JavaScript?", answer: "Document Object Model, a programming interface for web documents." },
                { question: "How do you add an event listener to an element?", answer: "element.addEventListener('event', function);" },
                { question: "What is 'hoisting' in JavaScript?", answer: "JavaScript's default behavior of moving declarations to the top of the current scope." },
                { question: "What is the 'this' keyword in JavaScript?", answer: "Refers to the object it belongs to, its value depends on how the function is called." },
                { question: "How do you convert a string to a number in JavaScript?", answer: "Using parseInt(), parseFloat(), or Number()." },
                { question: "What is the difference between '==' and '==='?", answer: "'==' checks for loose equality (type coercion), '===' checks for strict equality (no type coercion)." }
            ]
        };

        // DOM Elements
        const flashcardElement = document.getElementById('flashcard');
        const cardQuestionElement = document.getElementById('card-question');
        const cardAnswerElement = document.getElementById('card-answer');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const markKnownBtn = document.getElementById('mark-known-btn');
        const progressText = document.getElementById('progress-text');

        const htmlBtn = document.getElementById('html-btn');
        const cssBtn = document.getElementById('css-btn');
        const jsBtn = document.getElementById('js-btn');

        // State variables
        let currentSubject = null;
        let currentCards = []; // Cards for the current subject
        let currentIndex = -1; // Current card index
        let knownCards = new Set(); // Stores indices of known cards for the current subject

        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
        }

        // Function to load and display a random card
        function displayCard() {
            if (currentCards.length === 0) {
                cardQuestionElement.textContent = "No cards available. Select a subject!";
                cardAnswerElement.textContent = "";
                flashcardElement.classList.remove('flipped');
                updateProgress();
                return;
            }

            // Ensure index is within bounds
            if (currentIndex < 0) {
                currentIndex = currentCards.length - 1;
            } else if (currentIndex >= currentCards.length) {
                currentIndex = 0;
            }

            const card = currentCards[currentIndex];
            cardQuestionElement.textContent = card.question;
            cardAnswerElement.textContent = card.answer;

            // Reset flip state
            flashcardElement.classList.remove('flipped');
            updateProgress();
        }

        // Function to flip the card
        function flipCard() {
            flashcardElement.classList.toggle('flipped');
        }

        // Function to go to the next card
        function nextCard() {
            currentIndex++;
            displayCard();
        }

        // Function to go to the previous card
        function prevCard() {
            currentIndex--;
            displayCard();
        }

        // Function to update progress text
        function updateProgress() {
            const totalCards = currentCards.length;
            const knownCount = knownCards.size;
            progressText.textContent = `${currentIndex + 1}/${totalCards} (${knownCount} known)`;

            // Disable mark known button if no subject selected or no cards
            markKnownBtn.disabled = currentSubject === null || currentCards.length === 0;
            // Highlight if current card is known
            if (knownCards.has(currentIndex)) {
                markKnownBtn.classList.remove('btn-success');
                markKnownBtn.classList.add('bg-green-700'); // Darker green for known
                markKnownBtn.textContent = "Known (Click to Unmark)";
            } else {
                markKnownBtn.classList.remove('bg-green-700');
                markKnownBtn.classList.add('btn-success');
                markKnownBtn.textContent = "Mark as Known";
            }
        }

        // Function to select a subject
        function selectSubject(subject) {
            currentSubject = subject;
            currentCards = [...flashcards[subject]]; // Create a copy to shuffle
            shuffleArray(currentCards); // Shuffle cards for random order
            currentIndex = 0; // Reset index to the first card
            knownCards.clear(); // Clear known cards for new subject
            displayCard();

            // Update active button styling (optional, but good UX)
            [htmlBtn, cssBtn, jsBtn].forEach(btn => {
                btn.classList.remove('bg-indigo-700');
                btn.classList.add('bg-indigo-600');
            });
            document.getElementById(`${subject}-btn`).classList.remove('bg-indigo-600');
            document.getElementById(`${subject}-btn`).classList.add('bg-indigo-700');
        }

        // Function to mark/unmark current card as known
        function toggleMarkKnown() {
            if (currentIndex === -1 || currentCards.length === 0) return; // No card to mark

            if (knownCards.has(currentIndex)) {
                knownCards.delete(currentIndex);
            } else {
                knownCards.add(currentIndex);
            }
            updateProgress();
        }

        // Event Listeners
        flashcardElement.addEventListener('click', flipCard);
        nextBtn.addEventListener('click', nextCard);
        prevBtn.addEventListener('click', prevCard);
        markKnownBtn.addEventListener('click', toggleMarkKnown);

        htmlBtn.addEventListener('click', () => selectSubject('html'));
        cssBtn.addEventListener('click', () => selectSubject('css'));
        jsBtn.addEventListener('click', () => selectSubject('js'));

        // Initial load
        updateProgress(); // Initialize progress text
    </script>
</body>
</html>
